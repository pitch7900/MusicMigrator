{% block interactivemenus %}
    {{include('interactivemenus/DeezerImport.twig')}}
{% endblock %}

{% import "macros/home.twig" as macrohome %}

{#{{ dump(deezerplaylists) }}#}
<h1>{{ playlistname }}</h1>
<div class="btn-group" role="group" aria-label="LibActionGroup">
    <button type="button" class="btn btn-secondary btn-no" onclick="SearchOnDeezer()">
        <span id="SearchOnDeezerButtonWheel" class="invisible spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
        Search on Deezer
    </button>
    {% if deezerauthenticated %}
        <button  type="button" class="btn btn-secondary btn-no" data-toggle="modal" data-target="#DeezerImport_modal">
            <span id="ImportToDeezerButtonWheel" class="invisible spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            Import to Deezer
        </button>
    {% endif %}
</div>

<div class="progress">
    <div id="deezerrecognationsucess" class="progress-bar bg-success" style="width: 0%"  role="progressbar"  aria-valuenow="0" aria-valuemin="0" aria-valuemax="{{ playlist|length }}"></div>
    <div id="deezerrecognationwarning" class="progress-bar bg-warning" style="width: 0%"  role="progressbar"  aria-valuenow="0" aria-valuemin="0" aria-valuemax="{{ playlist|length }}"></div>
    <div id="deezerrecognationerror" class="progress-bar bg-danger" style="width: 0%"  role="progressbar"  aria-valuenow="0" aria-valuemin="0" aria-valuemax="{{ playlist|length }}"></div>
</div>

<div class="container-fluid row ">


    <table id="playlisttable" class="table table-striped table-hover">
        <thead>
            <tr class="">
                <th scope="col" class="no-sort">
                    <div class="form-check no-sort">
                        <input class="form-check-input" type="checkbox" value="" id="ShowErrors" onclick="OnlyShowErrors();">
                        <label class="form-check-label" for="ShowErrors">
                            Show Errors
                        </label>
                    </div>
                </th>
                <th scope="col" class="tableheaderssortable">Detection score <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable">Artist <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable">Album <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable">Song <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable">Duration <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable">Track <i class="fas fa-sort"></i></th>
                <th scope="col" class="tableheaderssortable" >Total Tracks <i class="fas fa-sort"></i></th>
                <th scope="col" class="no-sort"></th>
            </tr>
        </thead>
        <tbody>
            {% set trackid = 0 %}
            {% for song in playlist%}
                {% set trackid = trackid + 1 %}
                {{ macrohome.playlistsong(trackid,song.Artist,song.Album,song.Song,song.Time,song.Track,song.TotalTracks) }}
            {% endfor %}
        </tbody>
    </table>
</div>

<script type="text/javascript">
    $('#playlisttable').tablesort();
</script>

